define(["config"],function(a){"use strict";return{initToolbar:function(a,b){this.sandbox||(this.sandbox=a,this.bindCustomEvents(b))},bindCustomEvents:function(a){this.sandbox.once("husky.toolbar.header.initialized",function(){this.setStatus(a)}.bind(this)),this.sandbox.off("product.state.change"),this.sandbox.on("product.state.change",function(a){this.setStatus(a)}.bind(this))},setStatus:function(b){var c,d=this.sandbox.translate(a.get("product.status.inactive").key),e="husky-test";b&&b.id!==a.get("product.status.active").id||(d=this.sandbox.translate(a.get("product.status.active").key),e="husky-publish"),c={title:d,icon:e},this.sandbox.emit("sulu.header.toolbar.button.set","productWorkflow",c)}}});