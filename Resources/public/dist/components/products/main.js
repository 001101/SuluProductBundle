define(["suluproduct/models/product"],function(a){"use strict";return{initialize:function(){this.product=null,this.bindCustomEvents(),"list"===this.options.display?this.renderList():"form"===this.options.display?this.renderForm():"import"===this.options.display&&this.renderImport()},renderForm:function(){this.product=new a;var b=this.sandbox.dom.createElement('<div id="products-form-container"/>'),c={name:"products/components/form@suluproduct",options:{el:b,data:this.product.defaults()}};this.html(b),this.options.id?(this.product.set({id:this.options.id}),this.product.fetch({success:function(a){c.options.data=a.toJSON(),this.sandbox.start([c])}.bind(this)})):this.sandbox.start([c])},renderList:function(){var a=this.sandbox.dom.createElement('<div id="products-list-container"/>');this.html(a),this.sandbox.start([{name:"products/components/list@suluproduct",options:{el:a}}])},renderImport:function(){var a=this.sandbox.dom.createElement('<div id="products-import"/>');this.html(a),this.sandbox.start([{name:"products/components/import@suluproduct",options:{el:a}}])},bindCustomEvents:function(){this.sandbox.on("sulu.pim.products.new",function(){this.sandbox.emit("sulu.router.navigate","pim/products/add")}.bind(this)),this.sandbox.on("sulu.pim.products.import",function(){this.sandbox.emit("sulu.router.navigate","pim/products/import")}.bind(this))}}});