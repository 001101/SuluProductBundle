define([],function(){"use strict";var a={productOverlayName:"variants"},b=60,c=function(){this.sandbox.sulu.initListToolbarAndList.call(this,"product-variants-list","/admin/api/products/fields",{el:"#list-toolbar",inHeader:!0},{el:"#product-variants",resultKey:"products",url:"/admin/api/products/"+this.options.data.id+"/variants?flat=true"})},d=function(){this.sandbox.on("sulu.list-toolbar.add",function(){h.call(this)},this),this.sandbox.on("sulu.list-toolbar.delete",function(){this.sandbox.emit("husky.datagrid.items.get-selected",function(a){this.sandbox.emit("sulu.products.variants.delete",a)}.bind(this))},this),this.sandbox.on("sulu.products.variant.deleted",function(a){this.sandbox.emit("husky.datagrid.record.remove",a)},this)},e=function(){this.sandbox.dom.html(this.$el,this.renderTemplate("/admin/product/template/product/variants")),c.call(this),g.call(this)},f=function(){var a="pim.product.title",c=[{title:"navigation.pim"},{title:"pim.products.title"}];this.options.data&&this.options.data.name&&(a=this.options.data.name),a=this.sandbox.util.cropTail(a,b),this.sandbox.emit("sulu.header.set-title",a),c.push(this.options.data&&this.options.data.number?{title:"#"+this.options.data.number}:{title:"pim.product.title"}),this.sandbox.emit("sulu.header.set-breadcrumb",c)},g=function(){var b=this.sandbox.dom.createElement("<div/>");this.sandbox.dom.append(this.$el,b),this.sandbox.start([{name:"products-overlay@suluproduct",options:{el:b,instanceName:a.productOverlayName,slides:[{title:"Products"}],translations:{addProducts:"products-overlay.add-variant"},filter:{parent:null,types:[1,4]}}}])},h=function(){this.sandbox.emit("sulu.products.products-overlay."+a.productOverlayName+".open")};return{name:"Sulu Product Variants List",view:!0,templates:["/admin/product/template/product/variants"],initialize:function(){e.call(this),d.call(this),f.call(this)}}});