define(["mvc/relationalmodel","mvc/hasmany","suluproduct/collections/variants"],function(a,b,c){"use strict";function d(a,b,c){return a+(void 0!==b?"/"+b:"")+"?locale="+c}var e=new a({urlRoot:"/admin/api/products",relations:[{type:b,key:"variants",relatedModel:function(){return e},collectionType:c,reverseRelation:{key:"parent"}}],saveLocale:function(a,b){return b=_.defaults(b||{},{url:d(this.urlRoot,this.get("id"),a)}),this.save.call(this,null,b)},fetchLocale:function(a,b){b=_.defaults(b||{},{url:d(this.urlRoot,this.get("id"),a)});var c=this.fetch.call(this,b);return this.get("variants").setProductId(this.get("id")),c},defaults:function(){return{name:"",code:"",number:"",variants:[]}}});return e});